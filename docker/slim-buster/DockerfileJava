### Stage 1: build packages from source
FROM openjdk:8-slim

# Create data folder
ARG DATA_DIR="/data"

# Copy Python 3.9
COPY --from=python:3.9-slim / /

RUN apt-get update && \
    pip3 install --upgrade pip --no-cache-dir

# Copy the requirements file
COPY ./requirements/requirements-java.txt /

# Install requirements
RUN pip3 install -r  /requirements-java.txt --no-cache-dir
